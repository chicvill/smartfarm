# ìŠ¤ë§ˆíŠ¸íŒœ LED ë³´ê´‘ ì‹œìŠ¤í…œ ê°€ì´ë“œ
## ì¡°ë„ ê¸°ë°˜ ìë™ LED ì œì–´ë¡œ ìƒì‚°ëŸ‰ ì¦ëŒ€

---

## ëª©ì°¨
1. [LED ë³´ê´‘ì˜ ì¤‘ìš”ì„±](#1-led-ë³´ê´‘ì˜-ì¤‘ìš”ì„±)
2. [LED ì‹œìŠ¤í…œ ì„¤ê³„](#2-led-ì‹œìŠ¤í…œ-ì„¤ê³„)
3. [í•˜ë“œì›¨ì–´ êµ¬ì„±](#3-í•˜ë“œì›¨ì–´-êµ¬ì„±)
4. [ESP32 ì½”ë“œ (LED ì œì–´ í¬í•¨)](#4-esp32-ì½”ë“œ-led-ì œì–´-í¬í•¨)
5. [ìë™í™” ë¡œì§](#5-ìë™í™”-ë¡œì§)
6. [ë¹„ìš© ë¶„ì„](#6-ë¹„ìš©-ë¶„ì„)
7. [ì„¤ì¹˜ ê°€ì´ë“œ](#7-ì„¤ì¹˜-ê°€ì´ë“œ)
8. [ìƒì‚°ëŸ‰ ì¦ëŒ€ íš¨ê³¼](#8-ìƒì‚°ëŸ‰-ì¦ëŒ€-íš¨ê³¼)

---

## 1. LED ë³´ê´‘ì˜ ì¤‘ìš”ì„±

### 1.1 ì™œ LED ë³´ê´‘ì´ í•„ìš”í•œê°€?

```
ìì—°ê´‘ ë¶€ì¡± ì‹œë‚˜ë¦¬ì˜¤:
â”œâ”€ ê²¨ìš¸ì²  ì¼ì¡°ëŸ‰ ê°ì†Œ (í•˜ë£¨ 6ì‹œê°„ â†’ 3ì‹œê°„)
â”œâ”€ íë¦° ë‚ ì”¨ ì§€ì†
â”œâ”€ ì˜¨ì‹¤ í”¼ë³µì¬ë¡œ ì¸í•œ ê´‘ëŸ‰ ì†ì‹¤ (20-30%)
â””â”€ ì‘ë¬¼ ë°€ì‹ìœ¼ë¡œ ì¸í•œ í•˜ë¶€ ê´‘ë¶€ì¡±

ê²°ê³¼:
âŒ ìƒìœ¡ ì§€ì—° (ì‘ê¸° 25ì¼ â†’ 35ì¼)
âŒ ìƒì‚°ëŸ‰ ê°ì†Œ (30-40%)
âŒ í’ˆì§ˆ ì €í•˜ (ì—°ì•½, ë„ì¥)
âŒ ë³‘í•´ ì¦ê°€

LED ë³´ê´‘ íš¨ê³¼:
âœ… ìƒìœ¡ ì´‰ì§„ (ì‘ê¸° ë‹¨ì¶•)
âœ… ìƒì‚°ëŸ‰ 20-30% ì¦ê°€
âœ… í’ˆì§ˆ í–¥ìƒ (ìƒ‰ìƒ, ë‹¹ë„)
âœ… ì—°ì¤‘ ì•ˆì • ìƒì‚°
```

### 1.2 ìƒì¶” ì¬ë°° ê´‘ ìš”êµ¬ëŸ‰

```
ìƒì¶” ìµœì  ê´‘ ì¡°ê±´:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í•­ëª©              â”‚ ê°’                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ê´‘í¬í™”ì           â”‚ 300-400 Î¼mol/mÂ²/s (PPFD)  â”‚
â”‚ ê´‘ë³´ìƒì           â”‚ 30-50 Î¼mol/mÂ²/s            â”‚
â”‚ ìµœì  ì¼ì ì‚°ê´‘ëŸ‰   â”‚ 12-17 mol/mÂ²/day           â”‚
â”‚ ê´‘ì£¼ê¸°            â”‚ 12-16ì‹œê°„/ì¼               â”‚
â”‚ ì ìƒ‰:ì²­ìƒ‰ ë¹„ìœ¨    â”‚ 3:1 ~ 5:1                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PPFD (Photosynthetic Photon Flux Density):
- ê´‘í•©ì„±ì— ìœ íš¨í•œ ê´‘ëŸ‰ ì§€í‘œ
- ë‹¨ìœ„: Î¼mol/mÂ²/s
- ì¸¡ì • íŒŒì¥: 400-700nm

Luxì™€ PPFD ê´€ê³„ (ëŒ€ëµ):
- íƒœì–‘ê´‘: 50-75 lux = 1 Î¼mol/mÂ²/s
- LED (ì ìƒ‰): 65-75 lux = 1 Î¼mol/mÂ²/s
- LED (ë°±ìƒ‰): 70-85 lux = 1 Î¼mol/mÂ²/s
```

### 1.3 ì‹œê°„ëŒ€ë³„ ìì—°ê´‘ vs. LED ë³´ê´‘

```
ê²¨ìš¸ì²  í•˜ë£¨ ê´‘ëŸ‰ ì‹œë®¬ë ˆì´ì…˜:

ì‹œê°„   â”‚ìì—°ê´‘(lux)â”‚ LEDë³´ê´‘ â”‚ í•©ê³„(lux)â”‚ PPFD(Î¼mol)â”‚ë¹„ê³ 
â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€
06:00  â”‚   1,000   â”‚ 20,000  â”‚  21,000  â”‚   300     â”‚ LED ON
07:00  â”‚   5,000   â”‚ 20,000  â”‚  25,000  â”‚   357     â”‚
08:00  â”‚  15,000   â”‚ 20,000  â”‚  35,000  â”‚   500     â”‚
09:00  â”‚  30,000   â”‚    0    â”‚  30,000  â”‚   429     â”‚ LED OFF
10:00  â”‚  50,000   â”‚    0    â”‚  50,000  â”‚   714     â”‚
11:00  â”‚  60,000   â”‚    0    â”‚  60,000  â”‚   857     â”‚
12:00  â”‚  65,000   â”‚    0    â”‚  65,000  â”‚   929     â”‚
13:00  â”‚  60,000   â”‚    0    â”‚  60,000  â”‚   857     â”‚
14:00  â”‚  50,000   â”‚    0    â”‚  50,000  â”‚   714     â”‚
15:00  â”‚  30,000   â”‚    0    â”‚  30,000  â”‚   429     â”‚
16:00  â”‚  15,000   â”‚ 20,000  â”‚  35,000  â”‚   500     â”‚ LED ON
17:00  â”‚   5,000   â”‚ 20,000  â”‚  25,000  â”‚   357     â”‚
18:00  â”‚   1,000   â”‚ 20,000  â”‚  21,000  â”‚   300     â”‚
19:00  â”‚       0   â”‚ 20,000  â”‚  20,000  â”‚   286     â”‚
20:00  â”‚       0   â”‚    0    â”‚      0   â”‚     0     â”‚ LED OFF

LED ì ë“± ì‹œê°„: 8ì‹œê°„ (06-09ì‹œ, 16-20ì‹œ)
ì¼ì ì‚°ê´‘ëŸ‰: ì•½ 15 mol/mÂ²/day (ìµœì  ë²”ìœ„)
```

---

## 2. LED ì‹œìŠ¤í…œ ì„¤ê³„

### 2.1 LED íƒ€ì… ì„ íƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LED íƒ€ì…ë³„ ë¹„êµ                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ íƒ€ì…       â”‚ ê°€ê²©/W   â”‚ íš¨ìœ¨     â”‚ ìˆ˜ëª…     â”‚ ê¶Œì¥        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì¼ë°˜ ë°±ìƒ‰  â”‚ 100ì›    â”‚ 100lm/W  â”‚ 25,000h  â”‚ â˜…â˜…â˜†â˜†â˜†      â”‚
â”‚ LED                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì‹ë¬¼ìƒì¥   â”‚ 300ì›    â”‚ 150lm/W  â”‚ 30,000h  â”‚ â˜…â˜…â˜…â˜…â˜†      â”‚
â”‚ LED (ë°±ìƒ‰)                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ í’€ìŠ¤í™íŠ¸ëŸ¼ â”‚ 500ì›    â”‚ 180lm/W  â”‚ 35,000h  â”‚ â˜…â˜…â˜…â˜…â˜…      â”‚
â”‚ (Full Spec)                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Red+Blue   â”‚ 400ì›    â”‚ 2.0Î¼mol/Jâ”‚ 40,000h  â”‚ â˜…â˜…â˜…â˜…â˜†      â”‚
â”‚ (R:B=4:1)                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ê³ íš¨ìœ¨     â”‚ 800ì›    â”‚ 2.5Î¼mol/Jâ”‚ 50,000h  â”‚ â˜…â˜…â˜…â˜†â˜†      â”‚
â”‚ ì‹ë¬¼ì¬ë°°ìš©                                        (ê³ ê°€)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â˜… ê¶Œì¥: í’€ìŠ¤í™íŠ¸ëŸ¼ LED (Full Spectrum)
  ì´ìœ :
  âœ“ ìì—°ê´‘ì— ê°€ê¹Œìš´ ìŠ¤í™íŠ¸ëŸ¼
  âœ“ ì‘ë¬¼ ê´€ì°° ìš©ì´ (Red+BlueëŠ” ë³´ë¼ìƒ‰)
  âœ“ ê· í˜•ì¡íŒ ìƒìœ¡
  âœ“ í•©ë¦¬ì  ê°€ê²©
```

### 2.2 Zoneë‹¹ LED ë°°ì¹˜ ì„¤ê³„

```
Zone í¬ê¸°: 150mÂ² (ì•½ 45í‰)
ì¬ë°° ë©´ì : 120mÂ² (í†µë¡œ ì œì™¸)
ì²œì¥ ë†’ì´: 2.5m
ì‘ë¬¼ ë†’ì´: 0.3m (ìƒì¶”)
LED ì„¤ì¹˜ ë†’ì´: 1.5m (ì‘ë¬¼ ìƒë¶€ 1.2m)

í•„ìš” ê´‘ëŸ‰ ê³„ì‚°:
â”œâ”€ ëª©í‘œ PPFD: 200-300 Î¼mol/mÂ²/s (ë³´ê´‘)
â”œâ”€ ë©´ì : 120 mÂ²
â”œâ”€ ì´ í•„ìš”: 24,000-36,000 Î¼mol/s
â””â”€ LED íš¨ìœ¨: 2.0 Î¼mol/J (í’€ìŠ¤í™íŠ¸ëŸ¼)

í•„ìš” ì „ë ¥:
= 30,000 Î¼mol/s Ã· 2.0 Î¼mol/J
= 15,000 W
= 15 kW (ì´ë¡ ì¹˜)

ì‹¤ì œ ì„¤ê³„:
- ê²¹ì¹˜ëŠ” ì¡°ì‚¬ ê³ ë ¤
- ë²½ë©´ ë°˜ì‚¬ ê³ ë ¤
- ì‹¤ì œ í•„ìš”: ì•½ 8-10 kW
```

### 2.3 LED ë°” êµ¬ì„± (ì¶”ì²œ â˜…â˜…â˜…â˜…â˜…)

```
LED ë°” ì‚¬ì–‘:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í˜•íƒœ: LED Bar (ì¼ìí˜•)                  â”‚
â”‚ ê¸¸ì´: 1.2m                              â”‚
â”‚ ì „ë ¥: 80W / bar                         â”‚
â”‚ PPFD: 400 Î¼mol/mÂ²/s @ 0.5m             â”‚
â”‚ ìƒ‰ì˜¨ë„: 3000K (í’€ìŠ¤í™íŠ¸ëŸ¼)              â”‚
â”‚ ê°€ê²©: ì•½ 50,000ì› / bar                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ë°°ì¹˜ ê³„íš (150mÂ² Zone):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ê¸¸ì´ ë°©í–¥: 10m                          â”‚
â”‚ ë„ˆë¹„ ë°©í–¥: 12m                          â”‚
â”‚                                         â”‚
â”‚ LED Bar ë°°ì¹˜ (ê°€ë¡œ ë°©í–¥):               â”‚
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  (1.2m Ã— 8ê°œ = 9.6m)   â”‚
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                         â”‚
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                         â”‚
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â† 1.5m ê°„ê²©           â”‚
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                         â”‚
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                         â”‚
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                         â”‚
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                         â”‚
â”‚                                         â”‚
â”‚ ì„¸ë¡œ ë°©í–¥ ì¤„ ìˆ˜: 8ì¤„                    â”‚
â”‚ ê°€ë¡œ ë°©í–¥ Bar/ì¤„: 8ê°œ                   â”‚
â”‚ ì´ LED Bar: 64ê°œ                        â”‚
â”‚ ì´ ì „ë ¥: 5,120W (5.1kW)                 â”‚
â”‚ ì´ ë¹„ìš©: 3,200,000ì›                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ìµœì í™” ë°©ì•ˆ (ë¹„ìš© ì ˆê°):
â”œâ”€ í•µì‹¬ ì¬ë°° êµ¬ì—­ë§Œ ì„¤ì¹˜ (80mÂ²)
â”œâ”€ LED Bar: 40ê°œ
â”œâ”€ ì „ë ¥: 3.2kW
â””â”€ ë¹„ìš©: 2,000,000ì› âœ“
```

### 2.4 ëŒ€ì•ˆ: COB LED ë°©ì‹

```
COB (Chip On Board) LED:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í˜•íƒœ: ì›í˜• ëª¨ë“ˆ                         â”‚
â”‚ ì „ë ¥: 100-200W / module                 â”‚
â”‚ PPFD: 500 Î¼mol/mÂ²/s @ 0.5m             â”‚
â”‚ ì»¤ë²„ ë©´ì : 2mÂ² @ 1.2m ë†’ì´             â”‚
â”‚ ê°€ê²©: 30,000-60,000ì› / module          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ë°°ì¹˜ ê³„íš (150mÂ² Zone):
í•„ìš” ëª¨ë“ˆ ìˆ˜: 120mÂ² Ã· 2mÂ² = 60ê°œ
ì´ ì „ë ¥: 60 Ã— 150W = 9kW
ì´ ë¹„ìš©: 60 Ã— 45,000ì› = 2,700,000ì›

ì¥ì :
âœ“ ë†’ì€ ê´‘ëŸ‰
âœ“ ë„“ì€ ì¡°ì‚¬ê°
âœ“ ê· ì¼í•œ ê´‘ë¶„í¬

ë‹¨ì :
âœ— ë°œì—´ ë§ìŒ (ë°©ì—´íŒ í•„ìˆ˜)
âœ— ì „ë ¥ ì†Œë¹„ í¼
âœ— ì„¤ì¹˜ ë³µì¡
```

### 2.5 ìµœì¢… ê¶Œì¥: LED Bar ë°©ì‹

```
ì„ íƒ ì´ìœ :
âœ“ ì„¤ì¹˜ ê°„í¸
âœ“ ê· ì¼í•œ ê´‘ë¶„í¬
âœ“ ë°œì—´ ê´€ë¦¬ ìš©ì´
âœ“ í™•ì¥ ìš©ì´
âœ“ ìœ ì§€ë³´ìˆ˜ í¸ë¦¬

ìµœì¢… êµ¬ì„± (Zoneë‹¹):
â”œâ”€ LED Bar 80W Ã— 40ê°œ
â”œâ”€ ì „ë ¥: 3.2kW
â”œâ”€ ë¹„ìš©: 2,000,000ì›
â””â”€ ì»¤ë²„: 80mÂ² (í•µì‹¬ ì¬ë°° êµ¬ì—­)

500í‰ ì „ì²´ (10 Zone):
â”œâ”€ LED Bar: 400ê°œ
â”œâ”€ ì „ë ¥: 32kW
â””â”€ ë¹„ìš©: 20,000,000ì›

â˜… ë‹¨ê³„ì  ë„ì… ê¶Œì¥:
  - 1ë‹¨ê³„: 5ê°œ Zone (1,000ë§Œì›)
  - íš¨ê³¼ ê²€ì¦ í›„ í™•ì¥
```

---

## 3. í•˜ë“œì›¨ì–´ êµ¬ì„±

### 3.1 LED ì œì–´ íšŒë¡œ

```
ESP32 â†’ LED ì œì–´ ë°©ì‹:

ë°©ë²• 1: ë¦´ë ˆì´ ì§ì ‘ ì œì–´ (ê°„ë‹¨ â˜…â˜…â˜…â˜…â˜…)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                      â”‚
â”‚  ESP32                               â”‚
â”‚  GPIO 21 â”€â”€â†’ SSR (ê³ ì²´ë¦´ë ˆì´)       â”‚
â”‚              â””â”€â†’ AC 220V             â”‚
â”‚                   â””â”€â†’ LED Driver     â”‚
â”‚                        â””â”€â†’ LED Bar   â”‚
â”‚                                      â”‚
â”‚  ì¥ì : ê°„ë‹¨, ì €ë ´                    â”‚
â”‚  ë‹¨ì : ON/OFFë§Œ ê°€ëŠ¥                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ë°©ë²• 2: PWM ì¡°ê´‘ (ì¤‘ê¸‰ â˜…â˜…â˜…â˜…â˜†)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                      â”‚
â”‚  ESP32                               â”‚
â”‚  GPIO 21 â”€â”€â†’ PWM ì‹ í˜¸ (0-10V)       â”‚
â”‚              â””â”€â†’ ì¡°ê´‘ LED Driver     â”‚
â”‚                   â””â”€â†’ LED Bar        â”‚
â”‚                                      â”‚
â”‚  ì¥ì : ë°ê¸° ì¡°ì ˆ ê°€ëŠ¥ (0-100%)       â”‚
â”‚  ë‹¨ì : ì¡°ê´‘ ë“œë¼ì´ë²„ í•„ìš” (ê³ ê°€)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ë°©ë²• 3: DMX512 ì œì–´ (ê³ ê¸‰ â˜…â˜…â˜…â˜†â˜†)
â””â”€ ëŒ€ê·œëª¨ ì‹œì„¤ìš©, ë³µì¡, ê³ ê°€

â˜… ê¶Œì¥: ë°©ë²• 1 (ë¦´ë ˆì´)
  - ì´ˆê¸°: ON/OFF ì¶©ë¶„
  - ì¶”í›„ PWM ì—…ê·¸ë ˆì´ë“œ ê°€ëŠ¥
```

### 3.2 ë¶€í’ˆ ë¦¬ìŠ¤íŠ¸ (LED ì œì–´ ì¶”ê°€)

```
Zoneë‹¹ ì¶”ê°€ ë¶€í’ˆ:

1. LED Bar (80W)
   - ìˆ˜ëŸ‰: 40ê°œ
   - ê°€ê²©: 50,000ì› Ã— 40 = 2,000,000ì›
   - ì‚¬ì–‘: 1.2m, 3000K, IP65

2. LED Driver (ì „ì›)
   - ìˆ˜ëŸ‰: 40ê°œ (Barë‹¹ 1ê°œ)
   - ê°€ê²©: 15,000ì› Ã— 40 = 600,000ì›
   - ì‚¬ì–‘: 80W, AC 220V â†’ DC 24V

3. ê³ ì²´ ë¦´ë ˆì´ (SSR)
   - ìˆ˜ëŸ‰: 4ê°œ (10ê°œ LED Bar/ê·¸ë£¹)
   - ê°€ê²©: 15,000ì› Ã— 4 = 60,000ì›
   - ì‚¬ì–‘: 40A, AC 220V

4. ë°°ì„  ë° ì»¤ë„¥í„°
   - ì „ì„ : 2.5mmÂ² (220Vìš©)
   - ì»¤ë„¥í„°: ë°©ìˆ˜í˜•
   - ê°€ê²©: ì•½ 100,000ì›

5. ì„¤ì¹˜ ë¶€ìì¬
   - í–‰ê±°, ì²´ì¸, ë³¼íŠ¸ ë“±
   - ê°€ê²©: ì•½ 200,000ì›

6. ë°°ì „ë°˜ ë° ì°¨ë‹¨ê¸°
   - 3ìƒ ì°¨ë‹¨ê¸° 20A Ã— 2
   - ê°€ê²©: 150,000ì›

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Zoneë‹¹ LED ì‹œìŠ¤í…œ ì´ ë¹„ìš©: 3,110,000ì›

â˜… 10ê°œ Zone ì „ì²´: 31,100,000ì›

ë¹„ìš© ì ˆê° ë°©ì•ˆ:
1. ì¤‘ê³  LED í™œìš©: 50% ì ˆê°
2. ë‹¨ê³„ì  ë„ì…: 5ê°œ Zoneë§Œ ìš°ì„ 
3. ì €ê°€í˜• LED: 30% ì ˆê°
```

### 3.3 ì „ê¸° ìš©ëŸ‰ ê³„ì‚°

```
Zoneë‹¹ ì „ë ¥ ì†Œë¹„:

ê¸°ì¡´ ì‹œì„¤:
â”œâ”€ í™˜ê¸°íŒ¬: 200W Ã— 2 = 400W
â”œâ”€ ê´€ìˆ˜íŒí”„: 300W
â”œâ”€ ESP32: 5W
â””â”€ ê¸°íƒ€: 100W
í•©ê³„: 805W

LED ì¶”ê°€:
â””â”€ LED Bar: 80W Ã— 40 = 3,200W

Zoneë‹¹ ì´ ì „ë ¥: 4,005W â‰ˆ 4kW
ë™ì‹œ ì‚¬ìš©ë¥ : 80%
ì‹¤ì œ ì†Œë¹„: 3.2kW

500í‰ ì „ì²´ (10 Zone):
â”œâ”€ ì´ ì„¤ë¹„: 40kW
â”œâ”€ ë™ì‹œ ì‚¬ìš©: 32kW
â””â”€ í•„ìš” ì „ê¸° ìš©ëŸ‰: 50kW (ì—¬ìœ  í¬í•¨)

ê¸°ì¡´ ë†ì—…ìš© ì „ê¸°:
â”œâ”€ ì¼ë°˜: 10-30kW
â”œâ”€ LED ì¶”ê°€ ì‹œ: 50-60kW í•„ìš”
â””â”€ â†’ ì¦ì„¤ í•„ìš” (í•œì „ ì‹ ì²­)

ì „ê¸° ì¦ì„¤ ë¹„ìš©:
â”œâ”€ ì „ë ¥ ì¶”ê°€: 30kW
â”œâ”€ ê³µì‚¬ë¹„: ì•½ 3,000,000ì›
â””â”€ ë¶„ë‹´ê¸ˆ: ì•½ 2,000,000ì›
í•©ê³„: ì•½ 5,000,000ì›

â˜… ì´ LED ì‹œìŠ¤í…œ êµ¬ì¶• ë¹„ìš©:
  = LED ì¥ë¹„(31.1M) + ì „ê¸°ì¦ì„¤(5M)
  = 36,100,000ì›
```

---

## 4. ESP32 ì½”ë“œ (LED ì œì–´ í¬í•¨)

### 4.1 ê°œì„ ëœ ì „ì²´ ì½”ë“œ

```cpp
// smartfarm_node_with_led.ino
// LED ë³´ê´‘ ì œì–´ ê¸°ëŠ¥ ì¶”ê°€

#include <WiFi.h>
#include <PubSubClient.h>
#include <DHT.h>
#include <ArduinoJson.h>

// ============================================
// ì„¤ì •
// ============================================
const char* WIFI_SSID = "YOUR_WIFI_SSID";
const char* WIFI_PASSWORD = "YOUR_WIFI_PASSWORD";
const char* MQTT_SERVER = "192.168.1.100";
const int MQTT_PORT = 1883;
const char* NODE_ID = "zone1";

// ============================================
// í•€ ì„¤ì •
// ============================================
#define DHT_PIN 4
#define SOIL1_PIN 34
#define SOIL2_PIN 35
#define LDR_PIN 32          // ì¡°ë„ ì„¼ì„œ
#define RELAY1_PIN 16       // ê´€ìˆ˜
#define RELAY2_PIN 17       // í™˜ê¸°íŒ¬
#define RELAY3_PIN 18       // ì˜ˆë¹„
#define LED_RELAY_PIN 21    // LED ì¡°ëª… ë¦´ë ˆì´ â˜… ì¶”ê°€

// ============================================
// LED ì œì–´ ì„¤ì •
// ============================================
// ì¡°ë„ ì„ê³„ê°’ (lux)
const int LED_ON_THRESHOLD = 15000;   // 15,000 lux ì´í•˜ë©´ LED ON
const int LED_OFF_THRESHOLD = 25000;  // 25,000 lux ì´ìƒì´ë©´ LED OFF

// LED ìš´ì˜ ì‹œê°„ëŒ€ (24ì‹œê°„ ê¸°ì¤€)
const int LED_START_HOUR = 6;    // 06:00
const int LED_END_HOUR = 20;     // 20:00

// LED ìƒíƒœ
bool ledState = false;
bool ledAutoMode = true;  // true: ìë™, false: ìˆ˜ë™

// ============================================
// ì‹œê°„ ë™ê¸°í™”
// ============================================
#include <time.h>
const char* ntpServer = "pool.ntp.org";
const long gmtOffset_sec = 9 * 3600;  // GMT+9 (í•œêµ­)
const int daylightOffset_sec = 0;

// ============================================
// ê°ì²´ ìƒì„±
// ============================================
DHT dht(DHT_PIN, DHT22);
WiFiClient espClient;
PubSubClient mqtt(espClient);

// ============================================
// íƒ€ì´ë¨¸
// ============================================
unsigned long lastSensorRead = 0;
unsigned long lastStatusSend = 0;
unsigned long lastLedCheck = 0;

const long SENSOR_INTERVAL = 30000;    // 30ì´ˆ
const long STATUS_INTERVAL = 60000;    // 1ë¶„
const long LED_CHECK_INTERVAL = 10000; // 10ì´ˆ

// ============================================
// í•¨ìˆ˜ ì„ ì–¸
// ============================================
void setupWiFi();
void setupTime();
void reconnectMQTT();
void mqttCallback(char* topic, byte* payload, unsigned int length);
void readSensors();
void publishStatus(const char* status);
void controlLED();
int getCurrentHour();
float readLux();

// ============================================
// Setup
// ============================================
void setup() {
  Serial.begin(115200);
  Serial.println("\n=================================");
  Serial.println("SmartFarm Node with LED Control");
  Serial.println("=================================");
  Serial.print("Node ID: ");
  Serial.println(NODE_ID);
  
  // í•€ ëª¨ë“œ
  pinMode(RELAY1_PIN, OUTPUT);
  pinMode(RELAY2_PIN, OUTPUT);
  pinMode(RELAY3_PIN, OUTPUT);
  pinMode(LED_RELAY_PIN, OUTPUT);
  
  // ì´ˆê¸° ìƒíƒœ
  digitalWrite(RELAY1_PIN, LOW);
  digitalWrite(RELAY2_PIN, LOW);
  digitalWrite(RELAY3_PIN, LOW);
  digitalWrite(LED_RELAY_PIN, LOW);
  
  dht.begin();
  setupWiFi();
  setupTime();
  
  mqtt.setServer(MQTT_SERVER, MQTT_PORT);
  mqtt.setCallback(mqttCallback);
  mqtt.setBufferSize(512);
  
  Serial.println("Setup complete!");
}

// ============================================
// WiFi ì—°ê²°
// ============================================
void setupWiFi() {
  delay(10);
  Serial.print("\nConnecting to WiFi: ");
  Serial.println(WIFI_SSID);
  
  WiFi.mode(WIFI_STA);
  WiFi.begin(WIFI_SSID, WIFI_PASSWORD);
  
  int attempts = 0;
  while (WiFi.status() != WL_CONNECTED && attempts < 20) {
    delay(500);
    Serial.print(".");
    attempts++;
  }
  
  if (WiFi.status() == WL_CONNECTED) {
    Serial.println("\nWiFi connected!");
    Serial.print("IP: ");
    Serial.println(WiFi.localIP());
  } else {
    Serial.println("\nWiFi failed!");
  }
}

// ============================================
// ì‹œê°„ ë™ê¸°í™”
// ============================================
void setupTime() {
  Serial.print("Setting up time... ");
  configTime(gmtOffset_sec, daylightOffset_sec, ntpServer);
  
  struct tm timeinfo;
  int attempts = 0;
  while (!getLocalTime(&timeinfo) && attempts < 10) {
    delay(500);
    Serial.print(".");
    attempts++;
  }
  
  if (getLocalTime(&timeinfo)) {
    Serial.println("\nTime synchronized!");
    Serial.println(&timeinfo, "%Y-%m-%d %H:%M:%S");
  } else {
    Serial.println("\nTime sync failed!");
  }
}

// ============================================
// í˜„ì¬ ì‹œê° ê°€ì ¸ì˜¤ê¸°
// ============================================
int getCurrentHour() {
  struct tm timeinfo;
  if (!getLocalTime(&timeinfo)) {
    return -1;
  }
  return timeinfo.tm_hour;
}

// ============================================
// ì¡°ë„ ì½ê¸° (Lux ë³€í™˜)
// ============================================
float readLux() {
  int ldrRaw = analogRead(LDR_PIN);
  
  // LDR ì €í•­ê°’ â†’ Lux ë³€í™˜ (ê·¼ì‚¬ì‹)
  // ì‹¤ì œ ì„¼ì„œì— ë”°ë¼ ë³´ì • í•„ìš”
  // ì´ ì‹ì€ ì¼ë°˜ì ì¸ LDR ê¸°ì¤€
  
  float voltage = ldrRaw * (3.3 / 4095.0);
  float resistance = (3.3 - voltage) / voltage * 10000; // 10kÎ© í’€ë‹¤ìš´ ê°€ì •
  float lux = pow(10, (log10(resistance / 10000) / -0.7)) * 500;
  
  // í˜„ì‹¤ì ì¸ ë²”ìœ„ë¡œ ì œí•œ
  if (lux < 0) lux = 0;
  if (lux > 100000) lux = 100000;
  
  return lux;
}

// ============================================
// LED ìë™ ì œì–´ ë¡œì§
// ============================================
void controlLED() {
  if (!ledAutoMode) {
    return; // ìˆ˜ë™ ëª¨ë“œë©´ ìë™ ì œì–´ ì•ˆí•¨
  }
  
  // 1. ì‹œê°„ëŒ€ ì²´í¬
  int currentHour = getCurrentHour();
  if (currentHour < 0) {
    Serial.println("Time not available");
    return;
  }
  
  bool withinOperatingHours = (currentHour >= LED_START_HOUR && 
                               currentHour < LED_END_HOUR);
  
  if (!withinOperatingHours) {
    // ìš´ì˜ ì‹œê°„ ì™¸ â†’ LED OFF
    if (ledState) {
      digitalWrite(LED_RELAY_PIN, LOW);
      ledState = false;
      Serial.println("LED OFF (outside operating hours)");
      publishLedStatus("auto_off_time");
    }
    return;
  }
  
  // 2. ì¡°ë„ ì²´í¬
  float lux = readLux();
  
  Serial.print("Current lux: ");
  Serial.println(lux);
  
  // íˆìŠ¤í…Œë¦¬ì‹œìŠ¤ ì ìš© (ë–¨ë¦¼ ë°©ì§€)
  if (!ledState && lux < LED_ON_THRESHOLD) {
    // LED OFF ìƒíƒœì—ì„œ ì–´ë‘ìš°ë©´ â†’ ON
    digitalWrite(LED_RELAY_PIN, HIGH);
    ledState = true;
    Serial.print("LED ON (lux: ");
    Serial.print(lux);
    Serial.println(")");
    publishLedStatus("auto_on");
    
  } else if (ledState && lux > LED_OFF_THRESHOLD) {
    // LED ON ìƒíƒœì—ì„œ ë°ìœ¼ë©´ â†’ OFF
    digitalWrite(LED_RELAY_PIN, LOW);
    ledState = false;
    Serial.print("LED OFF (lux: ");
    Serial.print(lux);
    Serial.println(")");
    publishLedStatus("auto_off");
  }
}

// ============================================
// LED ìƒíƒœ ë°œí–‰
// ============================================
void publishLedStatus(const char* reason) {
  StaticJsonDocument<200> doc;
  doc["node"] = NODE_ID;
  doc["led_state"] = ledState;
  doc["led_mode"] = ledAutoMode ? "auto" : "manual";
  doc["reason"] = reason;
  doc["lux"] = readLux();
  doc["hour"] = getCurrentHour();
  
  char buffer[256];
  serializeJson(doc, buffer);
  
  String topic = "smartfarm/" + String(NODE_ID) + "/led/status";
  mqtt.publish(topic.c_str(), buffer);
}

// ============================================
// MQTT ì½œë°±
// ============================================
void mqttCallback(char* topic, byte* payload, unsigned int length) {
  Serial.print("Message: [");
  Serial.print(topic);
  Serial.print("] ");
  
  String message = "";
  for (int i = 0; i < length; i++) {
    message += (char)payload[i];
  }
  Serial.println(message);
  
  StaticJsonDocument<200> doc;
  DeserializationError error = deserializeJson(doc, message);
  
  if (error) {
    Serial.print("JSON error: ");
    Serial.println(error.c_str());
    return;
  }
  
  String topicStr = String(topic);
  
  // ê¸°ì¡´ ë¦´ë ˆì´ ì œì–´
  if (topicStr.endsWith("/relay1")) {
    bool state = doc["state"];
    digitalWrite(RELAY1_PIN, state ? HIGH : LOW);
    Serial.print("Relay 1: ");
    Serial.println(state ? "ON" : "OFF");
  }
  else if (topicStr.endsWith("/relay2")) {
    bool state = doc["state"];
    digitalWrite(RELAY2_PIN, state ? HIGH : LOW);
    Serial.print("Relay 2: ");
    Serial.println(state ? "ON" : "OFF");
  }
  // â˜… LED ì œì–´ ì¶”ê°€
  else if (topicStr.endsWith("/led")) {
    if (doc.containsKey("mode")) {
      String mode = doc["mode"].as<String>();
      if (mode == "auto") {
        ledAutoMode = true;
        Serial.println("LED: Auto mode");
      } else if (mode == "manual") {
        ledAutoMode = false;
        Serial.println("LED: Manual mode");
      }
    }
    
    if (doc.containsKey("state") && !ledAutoMode) {
      bool state = doc["state"];
      digitalWrite(LED_RELAY_PIN, state ? HIGH : LOW);
      ledState = state;
      Serial.print("LED manual: ");
      Serial.println(state ? "ON" : "OFF");
      publishLedStatus("manual");
    }
  }
}

// ============================================
// MQTT ì¬ì—°ê²°
// ============================================
void reconnectMQTT() {
  while (!mqtt.connected()) {
    Serial.print("MQTT connecting... ");
    
    String clientId = "ESP32_" + String(NODE_ID);
    
    if (mqtt.connect(clientId.c_str())) {
      Serial.println("connected");
      
      String controlTopic = "smartfarm/" + String(NODE_ID) + "/control/#";
      mqtt.subscribe(controlTopic.c_str());
      Serial.print("Subscribed: ");
      Serial.println(controlTopic);
      
      publishStatus("online");
      publishLedStatus("init");
      
    } else {
      Serial.print("failed, rc=");
      Serial.println(mqtt.state());
      delay(5000);
    }
  }
}

// ============================================
// ì„¼ì„œ ì½ê¸°
// ============================================
void readSensors() {
  float temp = dht.readTemperature();
  float humidity = dht.readHumidity();
  
  int soil1Raw = analogRead(SOIL1_PIN);
  int soil2Raw = analogRead(SOIL2_PIN);
  float soil1 = map(soil1Raw, 0, 4095, 0, 100);
  float soil2 = map(soil2Raw, 0, 4095, 0, 100);
  
  float lux = readLux();
  
  if (isnan(temp) || isnan(humidity)) {
    Serial.println("DHT read failed!");
    temp = -999;
    humidity = -999;
  }
  
  StaticJsonDocument<400> doc;
  doc["node"] = NODE_ID;
  doc["timestamp"] = millis();
  
  JsonObject sensors = doc.createNestedObject("sensors");
  sensors["temperature"] = temp;
  sensors["humidity"] = humidity;
  sensors["soil1"] = soil1;
  sensors["soil2"] = soil2;
  sensors["lux"] = lux;  // â˜… ì¡°ë„ ì¶”ê°€
  
  JsonObject status = doc.createNestedObject("status");
  status["led_state"] = ledState;
  status["led_mode"] = ledAutoMode ? "auto" : "manual";
  
  char buffer[512];
  serializeJson(doc, buffer);
  
  String topic = "smartfarm/" + String(NODE_ID) + "/sensors";
  mqtt.publish(topic.c_str(), buffer);
  
  Serial.println("Sensor data:");
  Serial.println(buffer);
}

// ============================================
// ìƒíƒœ ë°œí–‰
// ============================================
void publishStatus(const char* status) {
  StaticJsonDocument<300> doc;
  doc["node"] = NODE_ID;
  doc["status"] = status;
  doc["uptime"] = millis() / 1000;
  doc["rssi"] = WiFi.RSSI();
  doc["ip"] = WiFi.localIP().toString();
  doc["led_state"] = ledState;
  doc["led_mode"] = ledAutoMode ? "auto" : "manual";
  
  char buffer[400];
  serializeJson(doc, buffer);
  
  String topic = "smartfarm/" + String(NODE_ID) + "/status";
  mqtt.publish(topic.c_str(), buffer);
}

// ============================================
// Loop
// ============================================
void loop() {
  // WiFi ì²´í¬
  if (WiFi.status() != WL_CONNECTED) {
    setupWiFi();
  }
  
  // MQTT ì²´í¬
  if (!mqtt.connected()) {
    reconnectMQTT();
  }
  mqtt.loop();
  
  unsigned long currentMillis = millis();
  
  // ì„¼ì„œ ì½ê¸°
  if (currentMillis - lastSensorRead >= SENSOR_INTERVAL) {
    lastSensorRead = currentMillis;
    readSensors();
  }
  
  // ìƒíƒœ ì „ì†¡
  if (currentMillis - lastStatusSend >= STATUS_INTERVAL) {
    lastStatusSend = currentMillis;
    publishStatus("alive");
  }
  
  // â˜… LED ìë™ ì œì–´
  if (currentMillis - lastLedCheck >= LED_CHECK_INTERVAL) {
    lastLedCheck = currentMillis;
    controlLED();
  }
  
  delay(10);
}
```

### 4.2 MQTT Topic êµ¬ì¡° (LED ì¶”ê°€)

```
smartfarm/
â”œâ”€â”€ zone1/
â”‚   â”œâ”€â”€ sensors              # ì„¼ì„œ ë°ì´í„° (lux í¬í•¨)
â”‚   â”œâ”€â”€ control/
â”‚   â”‚   â”œâ”€â”€ relay1          # ê´€ìˆ˜
â”‚   â”‚   â”œâ”€â”€ relay2          # í™˜ê¸°
â”‚   â”‚   â””â”€â”€ led             # â˜… LED ì œì–´
â”‚   â”œâ”€â”€ led/
â”‚   â”‚   â””â”€â”€ status          # â˜… LED ìƒíƒœ
â”‚   â””â”€â”€ status              # ë…¸ë“œ ìƒíƒœ

LED ì œì–´ ë©”ì‹œì§€:
{
  "mode": "auto",      // "auto" or "manual"
  "state": true        // true=ON, false=OFF (manual mode only)
}

ì˜ˆì‹œ:
1. ìë™ ëª¨ë“œë¡œ ì „í™˜:
   Topic: smartfarm/zone1/control/led
   Payload: {"mode": "auto"}

2. ìˆ˜ë™ ON:
   Topic: smartfarm/zone1/control/led
   Payload: {"mode": "manual", "state": true}

3. ìˆ˜ë™ OFF:
   Topic: smartfarm/zone1/control/led
   Payload: {"mode": "manual", "state": false}
```

---

## 5. ìë™í™” ë¡œì§

### 5.1 Node-RED Flow (LED ì œì–´)

```javascript
// Function ë…¸ë“œ: LED ìë™ ì œì–´ ë¡œì§

// ì…ë ¥: msg.payload.sensors.lux
const lux = msg.payload.sensors.lux;
const node = msg.payload.node;
const currentHour = new Date().getHours();

// ìš´ì˜ ì‹œê°„: 06:00 - 20:00
const START_HOUR = 6;
const END_HOUR = 20;

// ì¡°ë„ ì„ê³„ê°’
const LED_ON_LUX = 15000;
const LED_OFF_LUX = 25000;

// í˜„ì¬ ì‹œê°„ ì²´í¬
if (currentHour < START_HOUR || currentHour >= END_HOUR) {
    // ìš´ì˜ ì‹œê°„ ì™¸ â†’ OFF
    msg.payload = {
        mode: "auto"
    };
    msg.topic = `smartfarm/${node}/control/led`;
    flow.set(`${node}_led_state`, false);
    node.status({fill:"grey", shape:"dot", text:"ì‹œê°„ì™¸"});
    return msg;
}

// í˜„ì¬ LED ìƒíƒœ ê°€ì ¸ì˜¤ê¸°
let ledState = flow.get(`${node}_led_state`) || false;

// ì¡°ë„ì— ë”°ë¥¸ ì œì–´
if (!ledState && lux < LED_ON_LUX) {
    // ì–´ë‘ìš°ë©´ ON
    msg.payload = {
        mode: "auto",
        state: true
    };
    flow.set(`${node}_led_state`, true);
    node.status({fill:"green", shape:"dot", text:`ON (${lux} lux)`});
    
} else if (ledState && lux > LED_OFF_LUX) {
    // ë°ìœ¼ë©´ OFF
    msg.payload = {
        mode: "auto",
        state: false
    };
    flow.set(`${node}_led_state`, false);
    node.status({fill:"red", shape:"dot", text:`OFF (${lux} lux)`});
    
} else {
    // ìœ ì§€
    return null;
}

msg.topic = `smartfarm/${node}/control/led`;
return msg;
```

### 5.2 ì¼ì¶œ/ì¼ëª° ì—°ë™ (ê³ ê¸‰)

```javascript
// Function ë…¸ë“œ: ì¼ì¶œ/ì¼ëª° ì‹œê°„ ê³„ì‚°

// SunCalc ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©
// npm install suncalc

const SunCalc = require('suncalc');

// ìœ„ì¹˜ ì •ë³´ (ì˜ˆ: ì„œìš¸)
const lat = 37.5665;
const lon = 126.9780;

const now = new Date();
const times = SunCalc.getTimes(now, lat, lon);

const sunrise = times.sunrise.getHours();
const sunset = times.sunset.getHours();

// LED ìš´ì˜: ì¼ì¶œ 1ì‹œê°„ ì „ ~ ì¼ëª° 2ì‹œê°„ í›„
const LED_START = sunrise - 1;
const LED_END = sunset + 2;

flow.set('led_start_hour', LED_START);
flow.set('led_end_hour', LED_END);

msg.payload = {
    sunrise: sunrise,
    sunset: sunset,
    led_start: LED_START,
    led_end: LED_END
};

node.status({fill:"blue", shape:"dot", 
             text:`${LED_START}:00 ~ ${LED_END}:00`});

return msg;
```

### 5.3 ìƒìœ¡ ë‹¨ê³„ë³„ ì œì–´

```javascript
// Function ë…¸ë“œ: ìƒìœ¡ ë‹¨ê³„ë³„ LED ì œì–´

// ì…ë ¥: ì •ì‹ í›„ ì¼ìˆ˜
const daysAfterPlanting = msg.payload.days_after_planting;

let targetDLI;  // Daily Light Integral (mol/mÂ²/day)
let ledHours;

if (daysAfterPlanting < 7) {
    // ì´ˆê¸° ìœ¡ë¬˜
    targetDLI = 10;
    ledHours = 12;
    
} else if (daysAfterPlanting < 14) {
    // ìƒìœ¡ ì´ˆê¸°
    targetDLI = 14;
    ledHours = 14;
    
} else {
    // ìƒìœ¡ í›„ê¸°
    targetDLI = 17;
    ledHours = 16;
}

msg.payload = {
    target_dli: targetDLI,
    led_hours: ledHours,
    stage: daysAfterPlanting < 7 ? "ì´ˆê¸°" :
           daysAfterPlanting < 14 ? "ì¤‘ê¸°" : "í›„ê¸°"
};

flow.set('target_dli', targetDLI);
flow.set('led_hours', ledHours);

return msg;
```

---

## 6. ë¹„ìš© ë¶„ì„

### 6.1 LED ì‹œìŠ¤í…œ ì´ ë¹„ìš©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í•­ëª©                    â”‚ Zoneë‹¹       â”‚ 10 Zone   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ LED Bar (80W Ã— 40ê°œ)    â”‚ 2,000,000ì›  â”‚20,000,000 â”‚
â”‚ LED Driver (40ê°œ)       â”‚   600,000ì›  â”‚ 6,000,000 â”‚
â”‚ ê³ ì²´ ë¦´ë ˆì´ (4ê°œ)       â”‚    60,000ì›  â”‚   600,000 â”‚
â”‚ ë°°ì„  ë° ì»¤ë„¥í„°          â”‚   100,000ì›  â”‚ 1,000,000 â”‚
â”‚ ì„¤ì¹˜ ë¶€ìì¬             â”‚   200,000ì›  â”‚ 2,000,000 â”‚
â”‚ ë°°ì „ë°˜                  â”‚   150,000ì›  â”‚ 1,500,000 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ **LED ì¥ë¹„ ì†Œê³„**       â”‚**3,110,000ì›**â”‚**31,100,000**â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì „ê¸° ì¦ì„¤ (í•œì „)        â”‚       -      â”‚ 5,000,000 â”‚
â”‚ ì„¤ì¹˜ ê³µì‚¬ë¹„             â”‚       -      â”‚ 2,000,000 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ **ì´ íˆ¬ì ë¹„ìš©**        â”‚       -      â”‚**38,100,000**â”‚
â”‚                         â”‚              â”‚**(3,810ë§Œì›)**â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ë‹¨ê³„ì  ë„ì…:
â”œâ”€ 1ë‹¨ê³„ (5 Zone): 19,050,000ì›
â”œâ”€ 2ë‹¨ê³„ (5 Zone ì¶”ê°€): 15,550,000ì›
â””â”€ í•©ê³„: 34,600,000ì›
```

### 6.2 ìš´ì˜ ë¹„ìš© (LED ì¶”ê°€ í›„)

```
ì „ê¸°ë£Œ ê³„ì‚°:

LED ì‚¬ìš©:
â”œâ”€ ì „ë ¥: 32kW (10 Zone)
â”œâ”€ ì¼ ì‚¬ìš©: 8ì‹œê°„ (í‰ê· )
â”œâ”€ ì¼ ì „ë ¥ëŸ‰: 32kW Ã— 8h = 256kWh
â”œâ”€ ì›” ì „ë ¥ëŸ‰: 256 Ã— 30 = 7,680kWh
â””â”€ ì›” ì „ê¸°ë£Œ: 7,680 Ã— 120ì› = 921,600ì›

ê¸°ì¡´ ì‹œì„¤:
â””â”€ ì›” ì „ê¸°ë£Œ: 151,000ì› (ê¸°ì¡´)

ì´ ì „ê¸°ë£Œ:
â”œâ”€ ì›”: 1,072,600ì›
â””â”€ ì—°: 12,871,200ì›

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í•­ëª©                â”‚ LED ë¯¸ì‚¬ìš©  â”‚ LED ì‚¬ìš©     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì „ê¸°ë£Œ (ì—°)         â”‚   151,000ì› â”‚ 12,871,200ì› â”‚
â”‚ ë¶€í’ˆ êµì²´ (ì—°)      â”‚   100,000ì› â”‚    300,000ì› â”‚
â”‚ LED ìœ ì§€ë³´ìˆ˜        â”‚         0ì› â”‚    500,000ì› â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ **ì—°ê°„ ìš´ì˜ë¹„**     â”‚   251,000ì› â”‚ 13,671,200ì› â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ **ì¦ê°€ë¶„**          â”‚       -     â”‚ 13,420,200ì› â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âš ï¸ ì „ê¸°ë£Œ ì¦ê°€: ì—° 1,342ë§Œì›
```

### 6.3 ë¹„ìš© ëŒ€ë¹„ íš¨ê³¼ ë¶„ì„

```
ìƒì‚°ëŸ‰ ì¦ëŒ€ íš¨ê³¼:

ê¸°ì¡´ (LED ì—†ìŒ):
â”œâ”€ ì—° ìƒì‚°ëŸ‰: 140í†¤
â”œâ”€ ì‘ê¸°: 25ì¼
â””â”€ ì—° ì‘ê¸° ìˆ˜: 14íšŒ

LED ë³´ê´‘ í›„:
â”œâ”€ ì‘ê¸° ë‹¨ì¶•: 25ì¼ â†’ 22ì¼ (12% ë‹¨ì¶•)
â”œâ”€ ì—° ì‘ê¸° ìˆ˜: 16íšŒ (2íšŒ ì¦ê°€)
â”œâ”€ ìƒì‚°ëŸ‰ ì¦ê°€: 20% (í’ˆì§ˆ ê°œì„ )
â””â”€ ì—° ìƒì‚°ëŸ‰: 140í†¤ Ã— 1.2 = 168í†¤

ì¦ê°€ ìƒì‚°ëŸ‰: 28í†¤

ì¶”ê°€ ë§¤ì¶œ:
â”œâ”€ 28í†¤ Ã— í‰ê·  ë‹¨ê°€ 5,080ì›/kg
â”œâ”€ = 28,000kg Ã— 5,080ì›
â””â”€ = 142,240,000ì›

ì¶”ê°€ ë¹„ìš©:
â”œâ”€ ì „ê¸°ë£Œ ì¦ê°€: 13,420,200ì›
â”œâ”€ ì¢…ì/ë¹„ë£Œ ì¦ê°€: 7,000,000ì›
â”œâ”€ í¬ì¥/ë°°ì†¡ ì¦ê°€: 5,000,000ì›
â””â”€ í•©ê³„: 25,420,200ì›

ìˆœ ì´ìµ ì¦ê°€:
= 142,240,000 - 25,420,200
= 116,819,800ì›/ë…„

íˆ¬ì íšŒìˆ˜ ê¸°ê°„:
= 38,100,000 / 116,819,800
= 0.33ë…„ = **ì•½ 4ê°œì›”**

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LED íˆ¬ì ìˆ˜ìµì„± ë¶„ì„                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì´ˆê¸° íˆ¬ì: 3,810ë§Œì›                    â”‚
â”‚ ì—° ìˆœì´ìµ ì¦ê°€: 1ì–µ 1,682ë§Œì›           â”‚
â”‚ íˆ¬ì íšŒìˆ˜: 4ê°œì›” â˜…â˜…â˜…â˜…â˜…                 â”‚
â”‚ ROI (1ë…„): 307% â˜…â˜…â˜…â˜…â˜…                   â”‚
â”‚ 5ë…„ ëˆ„ì  ì´ìµ: 5ì–µ 8,410ë§Œì›            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ’° ê²°ë¡ : ë§¤ìš° ìš°ìˆ˜í•œ íˆ¬ì!
```

---

## 7. ì„¤ì¹˜ ê°€ì´ë“œ

### 7.1 LED Bar ì„¤ì¹˜ ìˆœì„œ

```
Day 1: ì¤€ë¹„ ì‘ì—…
â–¡ ì „ê¸° ì¦ì„¤ (í•œì „ ì‚¬ì „ ì‹ ì²­ í•„ìš”)
â–¡ ë°°ì „ë°˜ ì„¤ì¹˜
â–¡ 3ìƒ ë°°ì„  ì¸ì…
â–¡ ì°¨ë‹¨ê¸° ì„¤ì¹˜

Day 2-3: êµ¬ì¡°ë¬¼ ì„¤ì¹˜
â–¡ LED Bar í–‰ê±° ì„¤ì¹˜ (ì²œì¥)
  - ê°„ê²©: 1.5m
  - ë†’ì´: 2.5m (ë°”ë‹¥ ê¸°ì¤€)
â–¡ ì²´ì¸ ì„¤ì¹˜ (ë†’ì´ ì¡°ì ˆìš©)
â–¡ ì•ˆì „ í™•ì¸

Day 4-5: LED ì„¤ì¹˜
â–¡ LED Bar ì¥ì°© (40ê°œ/Zone)
â–¡ LED Driver ì—°ê²°
â–¡ ë°°ì„  ì •ë¦¬
â–¡ ë°©ìˆ˜ ì²˜ë¦¬

Day 6: ì „ê¸° ì—°ê²°
â–¡ LED ê·¸ë£¹ë³„ íšŒë¡œ êµ¬ì„±
  - 10ê°œ Bar = 1ê·¸ë£¹
  - 4ê°œ ê·¸ë£¹/Zone
â–¡ SSR (ê³ ì²´ ë¦´ë ˆì´) ì—°ê²°
â–¡ ì ‘ì§€ í™•ì¸
â–¡ ì ˆì—° í…ŒìŠ¤íŠ¸

Day 7: ì œì–´ ì‹œìŠ¤í…œ
â–¡ ESP32 LED ë¦´ë ˆì´ ì—°ê²°
â–¡ ì½”ë“œ ì—…ë¡œë“œ
â–¡ MQTT í†µì‹  í…ŒìŠ¤íŠ¸
â–¡ ì¡°ë„ ì„¼ì„œ ìº˜ë¦¬ë¸Œë ˆì´ì…˜

Day 8: ì‹œìš´ì „
â–¡ ìˆ˜ë™ ON/OFF í…ŒìŠ¤íŠ¸
â–¡ ìë™ ì œì–´ í…ŒìŠ¤íŠ¸
â–¡ íƒ€ì´ë¨¸ ë™ì‘ í™•ì¸
â–¡ ì „ë ¥ ì¸¡ì •

Day 9-10: ìµœì í™”
â–¡ LED ë†’ì´ ì¡°ì •
â–¡ ì¡°ë„ ë¶„í¬ ì¸¡ì •
â–¡ ì„ê³„ê°’ íŠœë‹
â–¡ ë¬¸ì„œí™”

ì´ ì†Œìš”: 10ì¼ (1 Zone ê¸°ì¤€)
```

### 7.2 ì•ˆì „ ìˆ˜ì¹™

```
âš ï¸ ì „ê¸° ì•ˆì „:
â–¡ ì°¨ë‹¨ê¸° OFF í›„ ì‘ì—…
â–¡ ì ˆì—° ì¥ê°‘ ì°©ìš©
â–¡ ì ‘ì§€ í•„ìˆ˜
â–¡ ëˆ„ì „ ì°¨ë‹¨ê¸° ì„¤ì¹˜
â–¡ ì •ê¸° ì ê²€

âš ï¸ ê³ ì†Œ ì‘ì—…:
â–¡ ì•ˆì „ëŒ€ ì°©ìš©
â–¡ 2ì¸ 1ì¡° ì‘ì—…
â–¡ ì‚¬ë‹¤ë¦¬ ê³ ì •
â–¡ ê³µêµ¬ ë‚™í•˜ ë°©ì§€

âš ï¸ LED ì·¨ê¸‰:
â–¡ ì •ì „ê¸° ë°©ì§€
â–¡ ì¶©ê²© ì£¼ì˜
â–¡ ë°©ìˆ˜ ì²˜ë¦¬ í™•ì¸
â–¡ ê³¼ì „ë¥˜ ë°©ì§€
```

### 7.3 ë°°ì„ ë„

```
ì „ê¸° ê³„í†µë„:

3ìƒ 220V (í•œì „)
    â”‚
    â”œâ”€ ì£¼ ì°¨ë‹¨ê¸° (50A)
    â”‚   â”‚
    â”‚   â”œâ”€ Zone 1 ì°¨ë‹¨ê¸° (20A)
    â”‚   â”‚   â”‚
    â”‚   â”‚   â”œâ”€ LED ê·¸ë£¹ 1 (10ê°œ Bar)
    â”‚   â”‚   â”‚   â””â”€ SSR 1 â† ESP32 GPIO 21
    â”‚   â”‚   â”‚
    â”‚   â”‚   â”œâ”€ LED ê·¸ë£¹ 2 (10ê°œ Bar)
    â”‚   â”‚   â”‚   â””â”€ SSR 2 â† ESP32 GPIO 22
    â”‚   â”‚   â”‚
    â”‚   â”‚   â”œâ”€ LED ê·¸ë£¹ 3 (10ê°œ Bar)
    â”‚   â”‚   â”‚   â””â”€ SSR 3 â† ESP32 GPIO 23
    â”‚   â”‚   â”‚
    â”‚   â”‚   â””â”€ LED ê·¸ë£¹ 4 (10ê°œ Bar)
    â”‚   â”‚       â””â”€ SSR 4 â† ESP32 GPIO 25
    â”‚   â”‚
    â”‚   â”œâ”€ Zone 2 ì°¨ë‹¨ê¸° (20A)
    â”‚   â”‚   â””â”€ (ë™ì¼ êµ¬ì¡°)
    â”‚   â”‚
    â”‚   â””â”€ ... (Zone 3-10)
    â”‚
    â””â”€ ì˜ˆë¹„ ì°¨ë‹¨ê¸°

ESP32 í•€ í• ë‹¹:
â”œâ”€ GPIO 21: LED ê·¸ë£¹ 1
â”œâ”€ GPIO 22: LED ê·¸ë£¹ 2
â”œâ”€ GPIO 23: LED ê·¸ë£¹ 3
â””â”€ GPIO 25: LED ê·¸ë£¹ 4
```

---

## 8. ìƒì‚°ëŸ‰ ì¦ëŒ€ íš¨ê³¼

### 8.1 ì‘ê¸°ë³„ ë¹„êµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ êµ¬ë¶„             â”‚ LED ì—†ìŒâ”‚ LED ìˆìŒâ”‚ ê°œì„ ìœ¨ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì •ì‹ í›„ ìˆ˜í™•ì¼   â”‚  10ì¼   â”‚   8ì¼   â”‚  20%â†‘  â”‚
â”‚ ìœ¡ë¬˜ ê¸°ê°„        â”‚  15ì¼   â”‚  14ì¼   â”‚   7%â†‘  â”‚
â”‚ ì´ ì‘ê¸°          â”‚  25ì¼   â”‚  22ì¼   â”‚  12%â†‘  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì—°ê°„ ì‘ê¸° ìˆ˜     â”‚  14íšŒ   â”‚  16íšŒ   â”‚ +2íšŒ   â”‚
â”‚ í‰ê·  ìˆ˜í™• ì¤‘ëŸ‰   â”‚ 250g    â”‚ 280g    â”‚  12%â†‘  â”‚
â”‚ íê¸°ìœ¨           â”‚   2%    â”‚  1.5%   â”‚ 0.5%â†“  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Zoneë‹¹ ìƒì‚°ëŸ‰    â”‚  14í†¤   â”‚ 16.8í†¤  â”‚  20%â†‘  â”‚
â”‚ (150mÂ²)          â”‚         â”‚         â”‚        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì „ì²´ ìƒì‚°ëŸ‰      â”‚ 140í†¤   â”‚ 168í†¤   â”‚  20%â†‘  â”‚
â”‚ (10 Zone)        â”‚         â”‚         â”‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì¦ê°€ëŸ‰: 28í†¤/ë…„
```

### 8.2 í’ˆì§ˆ ê°œì„  íš¨ê³¼

```
í’ˆì§ˆ ì§€í‘œ:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í•­ëª©            â”‚ LED ì—†ìŒâ”‚ LED ìˆìŒâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì—½ì¥ (cm)       â”‚  15-18  â”‚  18-22  â”‚
â”‚ ì—½í­ (cm)       â”‚  12-15  â”‚  15-18  â”‚
â”‚ ìƒ‰ìƒ            â”‚  ë³´í†µ   â”‚  ì§„í•œìƒ‰ â”‚
â”‚ ì¡°ì§ê°          â”‚  ì—°ì•½   â”‚  ì¹˜ë°€   â”‚
â”‚ ë³‘í•´ ë°œìƒë¥      â”‚   5%    â”‚   2%    â”‚
â”‚ ìƒí’ˆí™”ìœ¨        â”‚  90%    â”‚  95%    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ê°€ê²© í”„ë¦¬ë¯¸ì—„:
â”œâ”€ ì¼ë°˜ ìƒì¶”: 3,500ì›/kg
â”œâ”€ ê³ í’ˆì§ˆ ìƒì¶”: 4,500ì›/kg
â””â”€ ì°¨ì´: +1,000ì›/kg (29%)

ì¶”ê°€ ë§¤ì¶œ:
= 168í†¤ Ã— 0.5 (ê³ í’ˆì§ˆ ë¹„ìœ¨) Ã— 1,000ì›
= 84,000,000ì›
```

### 8.3 ê³„ì ˆë³„ íš¨ê³¼

```
ì›”ë³„ LED ê¸°ì—¬ë„:

ì›”   â”‚ ìì—°ê´‘ â”‚LED ë³´ê´‘â”‚ ë¹„ì¤‘ â”‚ íš¨ê³¼
â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€
 1ì›” â”‚  ë¶€ì¡±  â”‚  í•„ìˆ˜  â”‚ 70%  â”‚ ë†’ìŒ
 2ì›” â”‚  ë¶€ì¡±  â”‚  í•„ìˆ˜  â”‚ 70%  â”‚ ë†’ìŒ
 3ì›” â”‚  ë³´í†µ  â”‚  ë³´ì¡°  â”‚ 50%  â”‚ ì¤‘ê°„
 4ì›” â”‚  ì¶©ë¶„  â”‚  ìµœì†Œ  â”‚ 30%  â”‚ ë‚®ìŒ
 5ì›” â”‚  ì¶©ë¶„  â”‚  ì—†ìŒ  â”‚  0%  â”‚ ì—†ìŒ
 6ì›” â”‚  ê³¼ë‹¤  â”‚  ì—†ìŒ  â”‚  0%  â”‚ ì—†ìŒ
 7ì›” â”‚  ì¶©ë¶„  â”‚  ë³´ì¡°  â”‚ 20%  â”‚ ë‚®ìŒ
 8ì›” â”‚  ì¶©ë¶„  â”‚  ë³´ì¡°  â”‚ 20%  â”‚ ë‚®ìŒ
 9ì›” â”‚  ë³´í†µ  â”‚  ë³´ì¡°  â”‚ 40%  â”‚ ì¤‘ê°„
10ì›” â”‚  ë³´í†µ  â”‚  í•„ìˆ˜  â”‚ 50%  â”‚ ì¤‘ê°„
11ì›” â”‚  ë¶€ì¡±  â”‚  í•„ìˆ˜  â”‚ 70%  â”‚ ë†’ìŒ
12ì›” â”‚  ë¶€ì¡±  â”‚  í•„ìˆ˜  â”‚ 70%  â”‚ ë†’ìŒ

ì—°í‰ê·  LED ê¸°ì—¬: ì•½ 40%
```

### 8.4 ìµœì¢… ìˆ˜ìµ ë¹„êµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í•­ëª©                 â”‚ LED ì—†ìŒ    â”‚ LED ìˆìŒ    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì—° ìƒì‚°ëŸ‰            â”‚ 140í†¤       â”‚ 168í†¤       â”‚
â”‚ í‰ê·  íŒë§¤ê°€          â”‚ 5,080ì›/kg  â”‚ 5,580ì›/kg  â”‚
â”‚                      â”‚             â”‚ (í’ˆì§ˆâ†‘)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ **ë§¤ì¶œ**             â”‚ 711,200,000 â”‚ 937,440,000 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ë³€ë™ë¹„               â”‚ 283,995,955 â”‚ 320,000,000 â”‚
â”‚ ê³ ì •ë¹„               â”‚ 261,844,203 â”‚ 275,264,403 â”‚
â”‚ (ì „ê¸°ë£Œ í¬í•¨)        â”‚             â”‚             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ **ì˜ì—…ì´ìµ**         â”‚ 165,359,842 â”‚ 342,175,597 â”‚
â”‚ **ë‹¹ê¸°ìˆœì´ìµ**       â”‚ 132,287,874 â”‚ 273,740,478 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ **ìˆœì´ìµ ì¦ê°€**      â”‚      -      â”‚ 141,452,604 â”‚
â”‚                      â”‚             â”‚ (+107%)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ’° LED íˆ¬ì íš¨ê³¼:
  - ìˆœì´ìµ ì¦ê°€: ì—° 1ì–µ 4,145ë§Œì›
  - LED íˆ¬ìì•¡: 3,810ë§Œì›
  - íšŒìˆ˜ ê¸°ê°„: 3.2ê°œì›”
  - ROI: 371% (ì—°ê°„)
```

---

## 9. ê²°ë¡ 

### 9.1 LED ë³´ê´‘ íˆ¬ì ê°€ì¹˜

```
âœ… íˆ¬ì íƒ€ë‹¹ì„±: â˜…â˜…â˜…â˜…â˜… (ë§¤ìš° ë†’ìŒ)

í•µì‹¬ ì§€í‘œ:
â”œâ”€ ì´ˆê¸° íˆ¬ì: 3,810ë§Œì›
â”œâ”€ íšŒìˆ˜ ê¸°ê°„: 3.2ê°œì›”
â”œâ”€ ì—°ê°„ ROI: 371%
â”œâ”€ 5ë…„ ìˆ˜ìµ: 7ì–µì›
â””â”€ ìƒì‚°ëŸ‰ ì¦ê°€: 20%

ê¶Œì¥ ì‚¬í•­:
âœ“ ë°˜ë“œì‹œ ë„ì… í•„ìš”
âœ“ ë‹¨ê³„ì  ì ‘ê·¼ ê°€ëŠ¥
âœ“ 5ê°œ Zoneë¶€í„° ì‹œì‘
âœ“ íš¨ê³¼ ê²€ì¦ í›„ í™•ì¥
```

### 9.2 ë‹¨ê³„ë³„ ì‹¤í–‰ ê³„íš

```
Phase 1: í…ŒìŠ¤íŠ¸ (1ê°œ Zone)
â”œâ”€ íˆ¬ì: 311ë§Œì›
â”œâ”€ ê¸°ê°„: 2ì£¼
â”œâ”€ ëª©í‘œ: íš¨ê³¼ ê²€ì¦
â””â”€ íŒë‹¨ ê¸°ì¤€: ì‘ê¸° ë‹¨ì¶•, í’ˆì§ˆ

Phase 2: ë¶€ë¶„ ë„ì… (5ê°œ Zone)
â”œâ”€ íˆ¬ì: 1,906ë§Œì› (ì „ê¸° í¬í•¨)
â”œâ”€ ê¸°ê°„: 2ê°œì›”
â”œâ”€ ëª©í‘œ: ìˆ˜ìµì„± í™•ì¸
â””â”€ ì˜ˆìƒ ìˆ˜ìµ: ì›” 590ë§Œì›

Phase 3: ì „ë©´ ë„ì… (10ê°œ Zone)
â”œâ”€ íˆ¬ì: 1,546ë§Œì› (ì¶”ê°€)
â”œâ”€ ê¸°ê°„: 1ê°œì›”
â”œâ”€ ëª©í‘œ: ìµœëŒ€ ìƒì‚°
â””â”€ ì˜ˆìƒ ìˆ˜ìµ: ì›” 1,180ë§Œì›

ì´ ê¸°ê°„: 3.5ê°œì›”
ì´ íˆ¬ì: 3,810ë§Œì›
```

### 9.3 ì„±ê³µ ìš”ì¸

```
ê¸°ìˆ ì  ìš”ì¸:
âœ“ ESP32 ìë™ ì œì–´
âœ“ ì¡°ë„ ì„¼ì„œ ì •ë°€ ì¸¡ì •
âœ“ MQTT ì‹¤ì‹œê°„ í†µì‹ 
âœ“ Node-RED ìë™í™”

ê²½ì œì  ìš”ì¸:
âœ“ ë¹ ë¥¸ íˆ¬ì íšŒìˆ˜
âœ“ ì•ˆì •ì  ìˆ˜ìµ
âœ“ ë‚®ì€ ìš´ì˜ ë¹„ìš©
âœ“ ë†’ì€ ROI

ìš´ì˜ì  ìš”ì¸:
âœ“ ì‰¬ìš´ ê´€ë¦¬
âœ“ ì›ê²© ì œì–´
âœ“ ìë™í™”
âœ“ í™•ì¥ ìš©ì´
```

### 9.4 ìµœì¢… ê¶Œì¥

```
LED ë³´ê´‘ ì‹œìŠ¤í…œ:
â˜…â˜…â˜…â˜…â˜… (5/5) ê°•ë ¥ ì¶”ì²œ

ì´ìœ :
1. íƒì›”í•œ ê²½ì œì„± (ROI 371%)
2. ë¹ ë¥¸ íˆ¬ì íšŒìˆ˜ (3.2ê°œì›”)
3. ìƒì‚°ëŸ‰ 20% ì¦ê°€
4. í’ˆì§ˆ ëŒ€í­ ê°œì„ 
5. ì—°ì¤‘ ì•ˆì • ìƒì‚°

ì£¼ì˜ì‚¬í•­:
âš  ì „ê¸° ì¦ì„¤ í•„ìˆ˜
âš  ì´ˆê¸° íˆ¬ì 3,810ë§Œì›
âš  ì „ê¸°ë£Œ ì¦ê°€ (ì›” 92ë§Œì›)
âš  ë‹¨ê³„ì  ë„ì… ê¶Œì¥

ê²°ë¡ :
LED ë³´ê´‘ì€ ìŠ¤ë§ˆíŠ¸íŒœì˜ í•„ìˆ˜ íˆ¬ì!
```

---

## ë¶€ë¡

### A. LED ì œí’ˆ ì¶”ì²œ

```
1. ì‚¼ì„± í˜¸í‹° LED LM301H
   - íš¨ìœ¨: 2.7 Î¼mol/J
   - ê°€ê²©: ë†’ìŒ
   - í’ˆì§ˆ: ìµœê³ 

2. êµ­ì‚° í’€ìŠ¤í™íŠ¸ëŸ¼ LED Bar
   - íš¨ìœ¨: 2.0 Î¼mol/J
   - ê°€ê²©: ì¤‘ê°„
   - í’ˆì§ˆ: ìš°ìˆ˜ â˜… ê¶Œì¥

3. ì¤‘êµ­ì‚° LED Bar
   - íš¨ìœ¨: 1.5 Î¼mol/J
   - ê°€ê²©: ì €ë ´
   - í’ˆì§ˆ: ë³´í†µ
```

### B. ì „ê¸° ì¦ì„¤ ì ˆì°¨

```
1. í•œì „ ì‹ ì²­ (ì˜¨ë¼ì¸)
2. í˜„ì¥ ì¡°ì‚¬ (2ì£¼)
3. ê³µì‚¬ ê²¬ì  (1ì£¼)
4. ê³µì‚¬ (2ì£¼)
5. ì¤€ê³µ ê²€ì‚¬ (1ì£¼)

ì´ ê¸°ê°„: ì•½ 6ì£¼
```

### C. ì°¸ê³  ìë£Œ

```
- ë†ì´Œì§„í¥ì²­ LED ì—°êµ¬ ìë£Œ
- ìŠ¤ë§ˆíŠ¸íŒœì½”ë¦¬ì•„ ë§¤ë‰´ì–¼
- ESP32 ê³µì‹ ë¬¸ì„œ
- MQTT ê°€ì´ë“œ
```

---

**LED ë³´ê´‘ìœ¼ë¡œ ìˆ˜ìµ 2ë°° ì¦ê°€!**
**3.2ê°œì›” ë§Œì— íˆ¬ì íšŒìˆ˜!**
**ì§€ê¸ˆ ë°”ë¡œ ì‹œì‘í•˜ì„¸ìš”!**

ì‘ì„±ì¼: 2025ë…„ 10ì›” 19ì¼
